@model SdProject.Models.MessageModels.DisplayMessageModel

<div id="message-@Model.MessageId"class="messageWrapper">
    <div class="authorSummery">
        <div> Author: @Model.Author</div>         
    </div> 
    <div>
        <div class="messageHeadline">
            <div> @Model.Subject </div>
            <div> Created: @Model.Created</div>
        </div>
        <div id="messageBody-@Model.MessageId">
            <div class="messageBody">
                @Html.Raw(Html.Encode(Model.MessageBody).Replace(Environment.NewLine, "<br />"))
            </div>
            <div>
                @if (Model.HasEditPermision) {
                    @Ajax.ActionLink("Edit", "EditMessageBody", new { messageId = Model.MessageId }, new AjaxOptions { HttpMethod = "get", InsertionMode = InsertionMode.Replace, UpdateTargetId = "messageBody-" + Model.MessageId })
                }
            </div>
        </div>
        <div class="messageRevision">
            @if(@Model.LastModified != @Model.Created) {
                <div>LastModified: @Model.LastModified</div>
            }
            @if(@Model.LastModifiedBy != @Model.Author) {
                <div>Last Modified By: @Model.LastModifiedBy</div>
            }
        </div>
    </div>         
</div>    